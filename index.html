<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sube imagen y audio</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: 20px auto;
    padding: 10px;
    text-align: center;
  }
  input[type=file] {
    margin: 10px 0;
  }
  img, audio {
    max-width: 100%;
    margin-top: 20px;
  }
</style>
</head>
<body>

<h1>Sube una imagen y un audio</h1>

<form id="uploadForm">
  <input type="file" name="image" accept="image/*" required /><br />
  <input type="file" name="audio" accept="audio/*" required /><br />
  <button type="submit">Subir</button>
</form>

<div id="result"></div>

<script>
  const form = document.getElementById('uploadForm');
  const resultDiv = document.getElementById('result');

  form.addEventListener('submit', async e => {
    e.preventDefault();

    const formData = new FormData(form);

    try {
      const res = await fetch('/upload', {
        method: 'POST',
        body: formData
      });
      if (!res.ok) throw new Error('Error en la subida');

      const data = await res.json();

      resultDiv.innerHTML = `
        <h2>Archivos subidos:</h2>
        <img src="${data.imageUrl}" alt="Imagen subida" />
        <br />
        <audio controls src="${data.audioUrl}"></audio>
      `;
    } catch (err) {
      resultDiv.textContent = 'Error al subir archivos: ' + err.message;
    }
  });
</script>

</body>
</html>
